<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summoner Bilgileri</title>
</head>
<body>

<div id="summonerInfo"></div>

<script>
    const riotIdUrl = "https://europe.api.riotgames.com/riot/account/v1/accounts/by-riot-id/parzi/7463";
    const apiKey = "RGAPI-6a75f092-34cc-47a7-81ad-3e04a682965b";

    // CORS politikalarını devre dışı bırakarak fetch isteği yapma
    fetch(`${riotIdUrl}?api_key=${apiKey}`, { mode: 'no-cors' })
        .then(response => response.json())
        .then(data => {
            const puuid = data.puuid;

            const summonerUrl = `https://tr1.api.riotgames.com/lol/summoner/v4/summoners/by-puuid/${puuid}`;

            return fetch(`${summonerUrl}?api_key=${apiKey}`);
        })
        .then(response => response.json())
        .then(summonerData => {
            const summonerName = summonerData.name;
            const summonerLevel = summonerData.summonerLevel;
            const profileIconId = summonerData.profileIconId;

            const htmlCode = `
                <div>
                    <p>Summoner Name: ${summonerName}</p>
                    <p>Summoner Level: ${summonerLevel}</p>
                    <img src="http://ddragon.leagueoflegends.com/cdn/13.24.1/img/profileicon/${profileIconId}.png" alt="Profile Icon">
                </div>
            `;

            document.getElementById("summonerInfo").innerHTML = htmlCode;
        })
        .catch(error => {
            console.error("Error:", error);
            document.getElementById("summonerInfo").innerHTML = "Bilgiler alınamadı.";
        });
</script>

</body>
</html>
